
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.4">
    
    
      
        <title>1-Step Look Ahead Agents - Data Science Foundations</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bb3983ee.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
      <link rel="stylesheet" href="../../styles.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-114664473-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-science-foundations-project-part-3-1-step-look-ahead" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Data Science Foundations" class="md-header__button md-logo" aria-label="Data Science Foundations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Data Science Foundations
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1-Step Look Ahead Agents
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Data Science Foundations" class="md-nav__button md-logo" aria-label="Data Science Foundations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Data Science Foundations
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Sessions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sessions" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Sessions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S1_Regression_and_Analysis/" class="md-nav__link">
        Regression and Analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S2_Inferential_Statistics/" class="md-nav__link">
        Inferential Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S3_Model_Selection_and_Validation/" class="md-nav__link">
        Model Selection and Validation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S4_Feature_Engineering/" class="md-nav__link">
        Feature Engineering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S5_Unsupervised_Learning/" class="md-nav__link">
        Unsupervised Learning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S6_Bagging/" class="md-nav__link">
        Bagging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S7_Boosting/" class="md-nav__link">
        Boosting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Labs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Labs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Labs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L1_Descriptive_Statistics_Data_Hunt/" class="md-nav__link">
        Descriptive Statistics Data Hunt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L2_Inferential_Statistics_Data_Hunt/" class="md-nav__link">
        Inferential Statistics Data Hunt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L3_Feature_Engineering/" class="md-nav__link">
        Practice with Feature Engineering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L4_Supervised_Learners/" class="md-nav__link">
        Practice with Supervised Learners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L5_Writing_Unit_Tests/" class="md-nav__link">
        Practice with Writing Unit Tests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Project
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Project" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Project
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../P1_Statistical_Analysis_of_TicTacToe/" class="md-nav__link">
        Statistical Analysis of TicTacToe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../P2_Heuristical_TicTacToe_Agents/" class="md-nav__link">
        Heuristical TicTacToe Agents
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          1-Step Look Ahead Agents
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        1-Step Look Ahead Agents
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#30-preparing-environment-and-importing-data" class="md-nav__link">
    3.0 Preparing Environment and Importing Data
  </a>
  
    <nav class="md-nav" aria-label="3.0 Preparing Environment and Importing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#301-import-packages" class="md-nav__link">
    3.0.1 Import Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#302-load-dataset" class="md-nav__link">
    3.0.2 Load Dataset
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-rethinking-gameplay" class="md-nav__link">
    3.1 Rethinking gameplay
  </a>
  
    <nav class="md-nav" aria-label="3.1 Rethinking gameplay">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-one-step-look-ahead" class="md-nav__link">
    3.1.1 One-Step Look Ahead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q1-rewrite-avail_moves" class="md-nav__link">
    Q1 Rewrite avail_moves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q2-score-each-move-in-avail_moves" class="md-nav__link">
    Q2 Score each move in avail_moves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q3-test-one_step_ai" class="md-nav__link">
    Q3 Test one_step_ai
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-putting-it-all-together" class="md-nav__link">
    3.2 Putting it all together
  </a>
  
    <nav class="md-nav" aria-label="3.2 Putting it all together">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#q4-finish-one_step_ai-to-return-a-move" class="md-nav__link">
    Q4 Finish one_step_ai to return a move
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#321-allow-gameengine-to-take-an-ai-agent-as-a-passable-parameter" class="md-nav__link">
    3.2.1 Allow GameEngine to take an ai agent as a passable parameter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-write-unit-tests-for-the-new-code" class="md-nav__link">
    3.3 Write Unit Tests for the New Code
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../P4_N_Step_Look_Ahead_Agents/" class="md-nav__link">
        N-Step Look Ahead Agents
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Extras
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extras" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Extras
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/X1_Thinking_Data/" class="md-nav__link">
        Thinking Data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#30-preparing-environment-and-importing-data" class="md-nav__link">
    3.0 Preparing Environment and Importing Data
  </a>
  
    <nav class="md-nav" aria-label="3.0 Preparing Environment and Importing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#301-import-packages" class="md-nav__link">
    3.0.1 Import Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#302-load-dataset" class="md-nav__link">
    3.0.2 Load Dataset
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-rethinking-gameplay" class="md-nav__link">
    3.1 Rethinking gameplay
  </a>
  
    <nav class="md-nav" aria-label="3.1 Rethinking gameplay">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-one-step-look-ahead" class="md-nav__link">
    3.1.1 One-Step Look Ahead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q1-rewrite-avail_moves" class="md-nav__link">
    Q1 Rewrite avail_moves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q2-score-each-move-in-avail_moves" class="md-nav__link">
    Q2 Score each move in avail_moves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q3-test-one_step_ai" class="md-nav__link">
    Q3 Test one_step_ai
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-putting-it-all-together" class="md-nav__link">
    3.2 Putting it all together
  </a>
  
    <nav class="md-nav" aria-label="3.2 Putting it all together">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#q4-finish-one_step_ai-to-return-a-move" class="md-nav__link">
    Q4 Finish one_step_ai to return a move
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#321-allow-gameengine-to-take-an-ai-agent-as-a-passable-parameter" class="md-nav__link">
    3.2.1 Allow GameEngine to take an ai agent as a passable parameter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-write-unit-tests-for-the-new-code" class="md-nav__link">
    3.3 Write Unit Tests for the New Code
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<p><a href="https://colab.research.google.com/github/wesleybeckner/data_science_foundations/blob/main/notebooks/project/P3_1_Step_Look_Ahead_Agents.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<h1 id="data-science-foundations-project-part-3-1-step-look-ahead">Data Science Foundations <br> Project Part 3: 1-Step Look Ahead<a class="headerlink" href="#data-science-foundations-project-part-3-1-step-look-ahead" title="Permanent link">&para;</a></h1>
<p><strong>Instructor</strong>: Wesley Beckner</p>
<p><strong>Contact</strong>: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#119;&#101;&#115;&#108;&#101;&#121;&#98;&#101;&#99;&#107;&#110;&#101;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#119;&#101;&#115;&#108;&#101;&#121;&#98;&#101;&#99;&#107;&#110;&#101;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a></p>
<hr />
<p><br></p>
<p>Today we're working on a more advanced AI structure: 1-step lookahead.</p>
<p><br></p>
<hr />
<p><a name='top'></a></p>
<p><a name='x.0'></a></p>
<h2 id="30-preparing-environment-and-importing-data">3.0 Preparing Environment and Importing Data<a class="headerlink" href="#30-preparing-environment-and-importing-data" title="Permanent link">&para;</a></h2>
<p><a href="#top">back to top</a></p>
<p><a name='x.0.1'></a></p>
<h3 id="301-import-packages">3.0.1 Import Packages<a class="headerlink" href="#301-import-packages" title="Permanent link">&para;</a></h3>
<p><a href="#top">back to top</a></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">class</span> <span class="nc">TicTacToe</span><span class="p">:</span>
  <span class="c1"># can preset winner and starting player</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">winner</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">start_player</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span> 
    <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">=</span> <span class="n">winner</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_player</span> <span class="o">=</span> <span class="n">start_player</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">board</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
         <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>

  <span class="c1"># the other functions are now passed self</span>
  <span class="k">def</span> <span class="nf">visualize_board</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span>
      <span class="s2">&quot;|</span><span class="si">{}</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="se">\n</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="se">\n</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="si">{}</span><span class="s2">|</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
      <span class="p">)</span>

  <span class="k">def</span> <span class="nf">check_winning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">:</span>
      <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span> 
      <span class="k">if</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span> <span class="c1"># we update the winner status</span>
        <span class="k">return</span> <span class="s2">&quot;&#39;X&#39; Won!&quot;</span>
      <span class="k">elif</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">=</span> <span class="s1">&#39;O&#39;</span>
        <span class="k">return</span> <span class="s2">&quot;&#39;O&#39; Won!&quot;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span>

  <span class="k">def</span> <span class="nf">check_stalemate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_winning</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">=</span> <span class="s1">&#39;Stalemate&#39;</span>
      <span class="k">return</span> <span class="s2">&quot;It&#39;s a stalemate!&quot;</span>

<span class="k">class</span> <span class="nc">GameEngine</span><span class="p">(</span><span class="n">TicTacToe</span><span class="p">):</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup</span> <span class="o">=</span> <span class="n">setup</span>

  <span class="k">def</span> <span class="nf">heuristic_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_label</span><span class="p">):</span>
    <span class="n">opponent</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">]</span>
    <span class="n">opponent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>
    <span class="n">opponent</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">avail_moves</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">]</span>
    <span class="n">temp_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">corner</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">side</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>

    <span class="c1"># first check for a winning move</span>
    <span class="n">move_found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="p">:</span>
      <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">player_label</span>
      <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">:</span>
          <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">temp_board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span> 
          <span class="k">if</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="n">player_label</span><span class="p">,</span> <span class="n">player_label</span><span class="p">,</span> <span class="n">player_label</span><span class="p">]:</span>
            <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>       
            <span class="k">break</span>
      <span class="k">if</span> <span class="n">move_found</span><span class="p">:</span>   
        <span class="k">break</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>

    <span class="c1"># check if the opponent has a winning move</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="p">:</span>
        <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">opponent</span>
        <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">temp_board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span> 
            <span class="k">if</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="n">opponent</span><span class="p">,</span> <span class="n">opponent</span><span class="p">,</span> <span class="n">opponent</span><span class="p">]:</span>
              <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>       
              <span class="k">break</span>
        <span class="k">if</span> <span class="n">move_found</span><span class="p">:</span>   
          <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>

    <span class="c1"># check corners</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="n">move_corner</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">avail_moves</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">corner</span><span class="p">]</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">move_corner</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">move_corner</span><span class="p">)</span>
        <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># check if middle avail</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">middle</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="p">:</span>
        <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">middle</span>

    <span class="c1"># check side</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="n">move_side</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">avail_moves</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">side</span><span class="p">]</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">move_side</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">move_side</span><span class="p">)</span>
        <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">move</span>

  <span class="k">def</span> <span class="nf">random_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
        <span class="k">continue</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">return</span> <span class="n">move</span>

  <span class="k">def</span> <span class="nf">setup_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup</span> <span class="o">==</span> <span class="s1">&#39;user&#39;</span><span class="p">:</span>
      <span class="n">players</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;How many Players? (type 0, 1, or 2)&quot;</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                    <span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;human&#39;</span><span class="p">}}</span>
      <span class="k">if</span> <span class="n">players</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1">########## </span>
        <span class="c1"># Allow the user to set the ai level</span>
        <span class="c1">########## </span>
        <span class="n">level</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;select AI level (1, 2)&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unknown AI level entered, this will cause problems&quot;</span><span class="p">)</span>

      <span class="k">if</span> <span class="n">players</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;who will go first? (X, (AI), or O (Player))&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                        <span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;human&#39;</span><span class="p">}}</span>




      <span class="k">elif</span> <span class="n">players</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                        <span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>                                
        <span class="k">else</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                        <span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>



    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup</span> <span class="o">==</span> <span class="s1">&#39;auto&#39;</span><span class="p">:</span>
      <span class="n">first</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">])</span>
      <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_player</span> <span class="o">=</span> <span class="s1">&#39;O&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                      <span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>                                
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_player</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                      <span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>
      <span class="c1">########## </span>
      <span class="c1"># and automatically set the ai level otherwise</span>
      <span class="c1">##########                             </span>
      <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">2</span>

  <span class="k">def</span> <span class="nf">play_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">]:</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">visualize_board</span><span class="p">()</span>
        <span class="n">player_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span><span class="p">[</span><span class="n">player</span><span class="p">][</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
        <span class="n">player_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span><span class="p">[</span><span class="n">player</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">player_type</span> <span class="o">==</span> <span class="s1">&#39;human&#39;</span><span class="p">:</span>
          <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">, what&#39;s your move?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">player_label</span><span class="p">))</span>
          <span class="c1"># we&#39;re going to allow the user to quit the game from the input line</span>
          <span class="k">if</span> <span class="n">move</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;quit&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">=</span> <span class="s1">&#39;F&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;quiting the game&#39;</span><span class="p">)</span>
            <span class="k">break</span>

          <span class="n">move</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
              <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">, that position is already taken! &quot;</span>\
                          <span class="s2">&quot;What&#39;s your move?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">player_label</span><span class="p">))</span>  
              <span class="n">move</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>            
              <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
                <span class="k">continue</span>
              <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">else</span><span class="p">:</span>
          <span class="c1">##########</span>
          <span class="c1"># Our level 1 ai agent (random)</span>
          <span class="c1">##########</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">move</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_ai</span><span class="p">()</span>

          <span class="c1">##########</span>
          <span class="c1"># Our level 2 ai agent (heuristic)</span>
          <span class="c1">##########</span>
          <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">move</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">heuristic_ai</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">player_label</span>

        <span class="c1"># the winner varaible will now be check within the board object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_winning</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_stalemate</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
          <span class="k">continue</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">==</span> <span class="s1">&#39;Stalemate&#39;</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_stalemate</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">visualize_board</span><span class="p">()</span>
          <span class="k">break</span>

        <span class="k">else</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_winning</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">visualize_board</span><span class="p">()</span>
          <span class="k">break</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>

<p><a name='x.0.1'></a></p>
<h3 id="302-load-dataset">3.0.2 Load Dataset<a class="headerlink" href="#302-load-dataset" title="Permanent link">&para;</a></h3>
<p><a href="#top">back to top</a></p>
<h2 id="31-rethinking-gameplay">3.1 Rethinking gameplay<a class="headerlink" href="#31-rethinking-gameplay" title="Permanent link">&para;</a></h2>
<p>To implement the broader strategies used in game theory and machine learning, we need to rebroadcast our approach to creating our AI agent. In the heurstical agent model, we thought in terms of checking for specific move types, defined by what kind of advantage they give us during game play, i.e. see if a winning move is available, a blocking move, if a corner place is free, etc. Rather than thinking with this <em>look and check</em> mindset that is centered around specific strategies and our own prior knowledge about the game (we <em>know</em> that a center piece is statistically likely to give us a higher chance of winning) we will evaluate every available move to the AI, and rate them quantitatively. </p>
<blockquote>
<p><strong><em>switching from ordinal to interval</em></strong> Notice the datatype change when we move from giving simple preferences of moves to actual scores of moves. Catalog this in your mind for future reference when considering datatypes!</p>
</blockquote>
<h3 id="311-one-step-look-ahead">3.1.1 One-Step Look Ahead<a class="headerlink" href="#311-one-step-look-ahead" title="Permanent link">&para;</a></h3>
<p>For now, when we rate our boards, we will only look 1-step ahead in gameplay. Hence the name we give this AI strategy, 1-step lookahead</p>
<p>The beginning portion of our code will look about the same as the heuristic AI model. Recall:</p>
<div class="codehilite"><pre><span></span><code>  def heuristic_ai(self, player_label):
    opponent = [&#39;X&#39;, &#39;O&#39;]
    opponent.remove(player_label)
    opponent = opponent[0]

    avail_moves = [i for i in self.board.keys() if self.board[i] == &#39; &#39;]
    temp_board = self.board.copy()
</code></pre></div>

<p>but now, instead of searching progressively through our preferred move-types (winning, middle, etc.) . We are going to give every available move (1, 3, 7, etc.) a score. Our score regimen will look like the following:</p>
<ul>
<li>100 pts: winning move</li>
<li>10 pts: blocks an opponents winning move</li>
<li>1 pt: every other move</li>
</ul>
<h3 id="q1-rewrite-avail_moves">Q1 Rewrite avail_moves<a class="headerlink" href="#q1-rewrite-avail_moves" title="Permanent link">&para;</a></h3>
<p>define avail_moves as a dictionary of available moves with scores for each move as empty strings. We will update this dictionary with numerical scores in the next step</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># we&#39;re going to steal the parameter names to</span>
<span class="c1"># prototype our new function</span>
<span class="bp">self</span> <span class="o">=</span> <span class="n">TicTacToe</span><span class="p">()</span>
<span class="n">player_label</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span>

<span class="n">opponent</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">]</span>
<span class="n">opponent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>
<span class="n">opponent</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># instead of a list, we want avail_moves to now be a dictionary that will</span>
<span class="c1"># contain the move and its score</span>

<span class="c1"># avail_moves = # YOUR CODE HERE</span>

<span class="n">temp_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre></div>

<h3 id="q2-score-each-move-in-avail_moves">Q2 Score each move in <code>avail_moves</code><a class="headerlink" href="#q2-score-each-move-in-avail_moves" title="Permanent link">&para;</a></h3>
<p>Now let's fold this into our new <code>one_step_ai</code> function. Remember:</p>
<ul>
<li>100 pts: winning move</li>
<li>10 pts: blocks an opponents winning move</li>
<li>1 pt: every other move</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="c1"># the beginning portion of our code will look about the same</span>
<span class="c1"># as the heuristic AI model</span>
<span class="k">def</span> <span class="nf">one_step_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_label</span><span class="p">):</span>
  <span class="n">opponent</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">]</span>
  <span class="n">opponent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>
  <span class="n">opponent</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

  <span class="c1">##############################################################################</span>
  <span class="c1">############################# DEFINE avail_moves #############################</span>
  <span class="c1">##############################################################################</span>
  <span class="c1"># avail_moves = #</span>

  <span class="n">temp_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

  <span class="c1"># first check for a winning move</span>
  <span class="c1"># we&#39;re now looping through the keys of our dictionary</span>
  <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">player_label</span>
    <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">temp_board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span> 
        <span class="k">if</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="n">player_label</span><span class="p">,</span> <span class="n">player_label</span><span class="p">,</span> <span class="n">player_label</span><span class="p">]:</span>
          <span class="c1">######################################################################</span>
          <span class="c1"># if we found a winning move we want to update the move with a score #</span>
          <span class="c1">######################################################################</span>
          <span class="c1"># your code to update avail_moves with a score</span>

    <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>

  <span class="c1">##############################################################################</span>
  <span class="c1">################## Check if the opponent has a winning move ##################</span>
  <span class="c1">##############################################################################</span>

  <span class="c1">##############################################################################</span>
  <span class="c1">################### All remaining moves receive a score of 1</span>
  <span class="c1">##############################################################################</span>

  <span class="k">return</span> <span class="n">avail_moves</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">one_step_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>{3: 100, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1}
</code></pre></div>

<h3 id="q3-test-one_step_ai">Q3 Test <code>one_step_ai</code><a class="headerlink" href="#q3-test-one_step_ai" title="Permanent link">&para;</a></h3>
<p>That's great, but how do we check that our code will work when a winning move is available, or a losing move is just around the corner? let's create a unit test for these!</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># just defining a new game</span>
<span class="bp">self</span> <span class="o">=</span> <span class="n">TicTacToe</span><span class="p">()</span>
<span class="n">player_label</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c1"># seeding the board with some X&#39;s</span>
<span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">board</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>{1: &#39;X&#39;, 2: &#39;X&#39;, 3: &#39; &#39;, 4: &#39; &#39;, 5: &#39; &#39;, 6: &#39; &#39;, 7: &#39; &#39;, 8: &#39; &#39;, 9: &#39; &#39;}
</code></pre></div>

<p>Now test the winning move. Your code should return <code>100</code> at move <code>3</code> and 1 everywhere else</p>
<div class="codehilite"><pre><span></span><code><span class="n">one_step_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_label</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>{3: 100, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1}
</code></pre></div>

<p>We can test the losing move by reversing the players</p>
<div class="codehilite"><pre><span></span><code><span class="n">player_label</span> <span class="o">=</span> <span class="s1">&#39;O&#39;</span>
<span class="n">one_step_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_label</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>{3: 10, 4: 1, 5: 1, 6: 1, 7: 1, 8: 1, 9: 1}
</code></pre></div>

<p>great! Let's keep these shorthand codes in mind when we go to write actual unit tests with the <code>one_step_ai</code> function embedded in the <code>GameEngine</code> module.</p>
<p>We're not done yet, recall that our other ai agents returned the actual selected move, not a dictionary of the moves with scores. We need to create a move from this dictionary and return it.</p>
<p>Here's what the general procedure will look like:</p>
<ol>
<li>Grab the maximum score (after assigning scores to all of avail_moves)</li>
<li>Select all moves that have this maximum score</li>
<li>Return a random selection of the moves with the max score</li>
</ol>
<p>and then in code format:</p>
<div class="codehilite"><pre><span></span><code><span class="n">avail_moves</span> <span class="o">=</span> <span class="n">one_step_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_label</span><span class="p">)</span>

<span class="c1"># 1. grab the maximum score</span>
<span class="n">max_score</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">avail_moves</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

<span class="c1"># 2. select all moves that have this maximum score</span>
<span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">max_score</span><span class="p">:</span>
    <span class="n">valid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="c1"># 3. return a random selection of the moves with the max score</span>
<span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">valid</span><span class="p">)</span>
<span class="n">move</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>3
</code></pre></div>

<h2 id="32-putting-it-all-together">3.2 Putting it all together<a class="headerlink" href="#32-putting-it-all-together" title="Permanent link">&para;</a></h2>
<h3 id="q4-finish-one_step_ai-to-return-a-move">Q4 Finish <code>one_step_ai</code> to return a move<a class="headerlink" href="#q4-finish-one_step_ai-to-return-a-move" title="Permanent link">&para;</a></h3>
<p>Let's see if we can rewrite our game engine to take new AI models in as a passable parameter. This way our base module will be much cleaner, and allow us to continue to write new functions for the base engine as long as they pass along the same variables.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># the beginning portion of our code will look about the same</span>
<span class="c1"># as the heuristic AI model</span>
<span class="k">def</span> <span class="nf">one_step_ai</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">win_patterns</span><span class="p">,</span> <span class="n">player_label</span><span class="p">):</span>
  <span class="n">opponent</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">]</span>
  <span class="n">opponent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>
  <span class="n">opponent</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">temp_board</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

  <span class="c1"># define avail_moves</span>
  <span class="c1"># avail_moves = </span>

  <span class="c1"># your code for giving scores for avail_moves</span>

  <span class="c1"># first grab max score</span>

  <span class="c1"># then select all moves that have this max score</span>

  <span class="c1"># return a random selection of the moves with the max score</span>

  <span class="k">return</span> <span class="n">move</span>
</code></pre></div>

<h3 id="321-allow-gameengine-to-take-an-ai-agent-as-a-passable-parameter">3.2.1 Allow <code>GameEngine</code> to take an ai agent as a passable parameter<a class="headerlink" href="#321-allow-gameengine-to-take-an-ai-agent-as-a-passable-parameter" title="Permanent link">&para;</a></h3>
<p>Let's rewrite our <code>GameEngine</code> to take an ai agent as a passable parameter under <code>user_ai</code>. The default value will be <code>None</code></p>
<p>Additional <code>user_ai</code> criteria will be that <code>user_ai</code> receives <code>board</code>, <code>win_patterns</code> and <code>player_label</code> and returns <code>move</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">GameEngine</span><span class="p">(</span><span class="n">TicTacToe</span><span class="p">):</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">user_ai</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup</span> <span class="o">=</span> <span class="n">setup</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user_ai</span> <span class="o">=</span> <span class="n">user_ai</span>

  <span class="k">def</span> <span class="nf">heuristic_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_label</span><span class="p">):</span>
    <span class="n">opponent</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">]</span>
    <span class="n">opponent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>
    <span class="n">opponent</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">avail_moves</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">]</span>
    <span class="n">temp_board</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">corner</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">side</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>

    <span class="c1"># first check for a winning move</span>
    <span class="n">move_found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="p">:</span>
      <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">player_label</span>
      <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">:</span>
          <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">temp_board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span> 
          <span class="k">if</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="n">player_label</span><span class="p">,</span> <span class="n">player_label</span><span class="p">,</span> <span class="n">player_label</span><span class="p">]:</span>
            <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>       
            <span class="k">break</span>
      <span class="k">if</span> <span class="n">move_found</span><span class="p">:</span>   
        <span class="k">break</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>

    <span class="c1"># check if the opponent has a winning move</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="p">:</span>
        <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">opponent</span>
        <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">temp_board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span> 
            <span class="k">if</span> <span class="n">values</span> <span class="o">==</span> <span class="p">[</span><span class="n">opponent</span><span class="p">,</span> <span class="n">opponent</span><span class="p">,</span> <span class="n">opponent</span><span class="p">]:</span>
              <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>       
              <span class="k">break</span>
        <span class="k">if</span> <span class="n">move_found</span><span class="p">:</span>   
          <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">temp_board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>

    <span class="c1"># check corners</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="n">move_corner</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">avail_moves</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">corner</span><span class="p">]</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">move_corner</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">move_corner</span><span class="p">)</span>
        <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># check if middle avail</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">middle</span> <span class="ow">in</span> <span class="n">avail_moves</span><span class="p">:</span>
        <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">middle</span>

    <span class="c1"># check side</span>
    <span class="k">if</span> <span class="n">move_found</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="n">move_side</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">avail_moves</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">side</span><span class="p">]</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">move_side</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">move_side</span><span class="p">)</span>
        <span class="n">move_found</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">move</span>

  <span class="k">def</span> <span class="nf">random_ai</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">move</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
        <span class="k">continue</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">return</span> <span class="n">move</span>

  <span class="k">def</span> <span class="nf">setup_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup</span> <span class="o">==</span> <span class="s1">&#39;user&#39;</span><span class="p">:</span>
      <span class="n">players</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;How many Players? (type 0, 1, or 2)&quot;</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                    <span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;human&#39;</span><span class="p">}}</span>
      <span class="k">if</span> <span class="n">players</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1">########## </span>
        <span class="c1"># Allow the user to set the ai level</span>
        <span class="c1">########## </span>

        <span class="c1">### if they have not provided an ai_agent</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_ai</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
          <span class="n">level</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;select AI level (1, 2)&quot;</span><span class="p">))</span>
          <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">1</span>
          <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">2</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unknown AI level entered, this will cause problems&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">3</span>

      <span class="k">if</span> <span class="n">players</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;who will go first? (X, (AI), or O (Player))&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                        <span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;human&#39;</span><span class="p">}}</span>


      <span class="k">elif</span> <span class="n">players</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                        <span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>                                
        <span class="k">else</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                        <span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>


    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup</span> <span class="o">==</span> <span class="s1">&#39;auto&#39;</span><span class="p">:</span>
      <span class="n">first</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">])</span>
      <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_player</span> <span class="o">=</span> <span class="s1">&#39;O&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                      <span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>                                
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_player</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">},</span> 
                      <span class="s1">&#39;second&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ai&#39;</span><span class="p">}}</span>
      <span class="c1">########## </span>
      <span class="c1"># and automatically set the ai level otherwise</span>
      <span class="c1">##########  </span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_ai</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>                           
        <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">2</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">=</span> <span class="mi">3</span>

  <span class="k">def</span> <span class="nf">play_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">]:</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">visualize_board</span><span class="p">()</span>
        <span class="n">player_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span><span class="p">[</span><span class="n">player</span><span class="p">][</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
        <span class="n">player_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">player_meta</span><span class="p">[</span><span class="n">player</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">player_type</span> <span class="o">==</span> <span class="s1">&#39;human&#39;</span><span class="p">:</span>
          <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">, what&#39;s your move?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">player_label</span><span class="p">))</span>
          <span class="c1"># we&#39;re going to allow the user to quit the game from the input line</span>
          <span class="k">if</span> <span class="n">move</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;quit&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">=</span> <span class="s1">&#39;F&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;quiting the game&#39;</span><span class="p">)</span>
            <span class="k">break</span>

          <span class="n">move</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
              <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">, that position is already taken! &quot;</span>\
                          <span class="s2">&quot;What&#39;s your move?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">player_label</span><span class="p">))</span>  
              <span class="n">move</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>            
              <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
                <span class="k">continue</span>
              <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">else</span><span class="p">:</span>
          <span class="c1">##########</span>
          <span class="c1"># Our level 1 ai agent (random)</span>
          <span class="c1">##########</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">move</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_ai</span><span class="p">()</span>

          <span class="c1">##########</span>
          <span class="c1"># Our level 2 ai agent (heuristic)</span>
          <span class="c1">##########</span>
          <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">move</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">heuristic_ai</span><span class="p">(</span><span class="n">player_label</span><span class="p">)</span>

          <span class="c1">##########</span>
          <span class="c1"># Our user-defined AI agent</span>
          <span class="c1">##########</span>
          <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_level</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">move</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_ai</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_patterns</span><span class="p">,</span> <span class="n">player_label</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">player_label</span>

        <span class="c1"># the winner varaible will now be check within the board object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_winning</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_stalemate</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
          <span class="k">continue</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">==</span> <span class="s1">&#39;Stalemate&#39;</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_stalemate</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">visualize_board</span><span class="p">()</span>
          <span class="k">break</span>

        <span class="k">else</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_winning</span><span class="p">())</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">visualize_board</span><span class="p">()</span>
          <span class="k">break</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">winner</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>

<p>Test the <code>auto</code> and <code>user</code> functions</p>
<div class="codehilite"><pre><span></span><code><span class="n">game</span> <span class="o">=</span> <span class="n">GameEngine</span><span class="p">(</span><span class="n">setup</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="n">user_ai</span><span class="o">=</span><span class="n">one_step_ai</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">game</span><span class="o">.</span><span class="n">setup_game</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>How many Players? (type 0, 1, or 2)1
who will go first? (X, (AI), or O (Player))X
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">game</span><span class="o">.</span><span class="n">play_game</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>| | | |
| | | |
| | | |

| | | |
| | | |
| |X| |

O, what&#39;s your move?5
| | | |
| |O| |
| |X| |

| | |X|
| |O| |
| |X| |

O, what&#39;s your move?4
| | |X|
|O|O| |
| |X| |

| | |X|
|O|O|X|
| |X| |

O, what&#39;s your move?1
|O| |X|
|O|O|X|
| |X| |

&#39;X&#39; Won!
|O| |X|
|O|O|X|
| |X|X|






&lt;__main__.GameEngine at 0x7f1f812e7d50&gt;
</code></pre></div>

<h2 id="33-write-unit-tests-for-the-new-code">3.3 Write Unit Tests for the New Code<a class="headerlink" href="#33-write-unit-tests-for-the-new-code" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">test_user_ai</span><span class="p">():</span>
  <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
  <span class="n">game</span> <span class="o">=</span> <span class="n">GameEngine</span><span class="p">(</span><span class="n">setup</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">user_ai</span><span class="o">=</span><span class="n">one_step_ai</span><span class="p">)</span>
  <span class="n">game</span><span class="o">.</span><span class="n">setup_game</span><span class="p">()</span>
  <span class="n">outcome</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">play_game</span><span class="p">()</span>
  <span class="k">assert</span> <span class="n">outcome</span><span class="o">.</span><span class="n">winner</span> <span class="o">==</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;X should have won!&#39;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">test_user_ai</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>| | | |
| | | |
| | | |

|X| | |
| | | |
| | | |

|X| | |
| | |O|
| | | |

|X| |X|
| | |O|
| | | |

|X|O|X|
| | |O|
| | | |

|X|O|X|
| |X|O|
| | | |

|X|O|X|
| |X|O|
|O| | |

&#39;X&#39; Won!
|X|O|X|
| |X|O|
|O| |X|
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../P2_Heuristical_TicTacToe_Agents/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Heuristical TicTacToe Agents" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Heuristical TicTacToe Agents
            </div>
          </div>
        </a>
      
      
        
        <a href="../P4_N_Step_Look_Ahead_Agents/" class="md-footer__link md-footer__link--next" aria-label="Next: N-Step Look Ahead Agents" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              N-Step Look Ahead Agents
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.361d90f1.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.289a2a4b.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>